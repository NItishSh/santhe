# Compliance Service - Light
image:
  repository: santhe/compliance-and-audit-service
  tag: latest
  pullPolicy: IfNotPresent

nameOverride: compliance-and-audit-service
fullnameOverride: compliance-and-audit-service

service:
  port: 8000

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 100m
    memory: 128Mi

istio:
  enabled: true
  virtualService:
    enabled: true
    hosts:
      - compliance-and-audit-service.local
    routes:
      - destination:
          host: compliance-and-audit-service
          port:
            number: 8000

migrations:
  enabled: true

env:
  - name: DATABASE_URL
    value: "postgresql+psycopg://postgres:postgres@postgres-postgresql.santhe.svc.cluster.local:5432/compliance_and_audit_service_db"
  - name: SECRET_KEY
    value: "supersecret"
